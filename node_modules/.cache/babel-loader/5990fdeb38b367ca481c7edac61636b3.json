{"ast":null,"code":"import _taggedTemplateLiteral from \"D:\\\\lh1qs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"D:\\\\lh1qs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\lh1qs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\lh1qs\\\\src\\\\pageComponents\\\\CreateTemplate\\\\TemplateMailContents\\\\RowTable.js\";\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 20px;\\n  height: 20px;\\n  padding: 0px;\\n  margin: 3px;\\n  font-size: 10px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  background: none;\\n  display: flex;\\n  z-index: 500px;\\n\\n  &:nth-child(odd) {\\n    right: -30px;\\n  };\\n  \\n  &:nth-child(even) {\\n    right: -50px;\\n  };\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  /* top: 0px; */\\n  /* left: -40px; */\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport styled, { css } from \"styled-components\"; //components\n\nimport TdClass from \"./RowTable/TdClass\";\nimport { globalStateStore } from \"../../../stores/globalStateStore\";\nimport { mailTemplateStore } from \"../../../stores/mailTemplateStore\";\n\nconst RowTable = ({\n  tdClasses,\n  rowTableIndex,\n  deleteRowTable\n}) => {\n  const globalState = useContext(globalStateStore);\n  const state = globalState.state;\n  const mailGlobalState = useContext(mailTemplateStore);\n  const mailState = mailGlobalState.state;\n  const mailDispatch = mailGlobalState.dispatch;\n\n  const _useState = useState(tdClasses),\n        _useState2 = _slicedToArray(_useState, 2),\n        editableTdClasses = _useState2[0],\n        setEditableTdClasses = _useState2[1];\n\n  const tempTdStyle = {\n    position: \"relative\"\n  };\n  const tdStyle = state.boxShadow === true ? _objectSpread({}, tempTdStyle) : {};\n\n  const onClickAddTdButton = () => {\n    const newTdClasses = [].concat(editableTdClasses);\n    const newTdClass = {\n      align: \"center\",\n      width: \"200\",\n      height: \"\".concat(tdClasses[0].height),\n      content: \"<b>td</b>\"\n    };\n    newTdClasses.push(newTdClass);\n    setEditableTdClasses(newTdClasses);\n\n    const newContents = _objectSpread({}, mailState.contents);\n\n    newContents.body.contentRowTables[rowTableIndex].tdClasses = newTdClasses;\n    mailDispatch({\n      type: \"UPDATE_CONTENTS\",\n      value: {\n        contents: newContents\n      }\n    });\n  };\n\n  const onClickDeleteTdButton = index => {\n    // if (index === 0) return;\n    const tempTdClasses = [].concat(editableTdClasses);\n\n    const newContents = _objectSpread({}, mailState.contents);\n\n    if (index === editableTdClasses.length - 1) {\n      tempTdClasses.pop();\n      setEditableTdClasses(tempTdClasses);\n      newContents.body.contentRowTables[rowTableIndex].tdClasses = tempTdClasses;\n    } else {\n      const newTdClasses = tempTdClasses.slice(0, index).concat(tempTdClasses.slice(index + 1, tempTdClasses.length));\n      setEditableTdClasses(newTdClasses);\n      newContents.body.contentRowTables[rowTableIndex].tdClasses = newTdClasses;\n    }\n\n    mailDispatch({\n      type: \"UPDATE_CONTENTS\",\n      value: {\n        contents: newContents,\n        version: mailState.version + 1\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, state.boxShadow === true ? /*#__PURE__*/React.createElement(MenusWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(EditButton, {\n    className: \"btn btn-dark\",\n    onClick: onClickAddTdButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, \"\\u2795\")))) : null, /*#__PURE__*/React.createElement(\"table\", {\n    width: \"100%\",\n    border: 0,\n    cellPadding: 0,\n    cellSpacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, editableTdClasses.map((tdClass, i) => {\n    if (Array.isArray(tdClass) === true) {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        cellPadding: 0,\n        cellSpacing: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 23\n        }\n      }, tdClass.map((td, j) => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(TdClass, {\n        rowTableIndex: rowTableIndex,\n        colIndex: i,\n        rowIndex: j,\n        tdClass: td,\n        deleteTd: j === 0 ? onClickDeleteTdButton : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }\n      }))))));\n    } else return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TdClass, {\n      rowTableIndex: rowTableIndex,\n      index: i,\n      tdClass: tdClass,\n      deleteTd: onClickDeleteTdButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }));\n  })))));\n};\n\nconst MenusWrapper = styled.div(_templateObject());\nconst Menus = styled.div(_templateObject2());\nconst EditButton = styled.button(_templateObject3());\nexport default RowTable;","map":{"version":3,"sources":["D:/lh1qs/src/pageComponents/CreateTemplate/TemplateMailContents/RowTable.js"],"names":["React","Fragment","useContext","useEffect","useState","styled","css","TdClass","globalStateStore","mailTemplateStore","RowTable","tdClasses","rowTableIndex","deleteRowTable","globalState","state","mailGlobalState","mailState","mailDispatch","dispatch","editableTdClasses","setEditableTdClasses","tempTdStyle","position","tdStyle","boxShadow","onClickAddTdButton","newTdClasses","concat","newTdClass","align","width","height","content","push","newContents","contents","body","contentRowTables","type","value","onClickDeleteTdButton","index","tempTdClasses","length","pop","slice","version","map","tdClass","i","Array","isArray","td","j","MenusWrapper","div","Menus","EditButton","button"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,EAAiDC,QAAjD,QAAiE,OAAjE;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B,C,CACA;;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SAASC,gBAAT,QAAiC,kCAAjC;AACA,SAASC,iBAAT,QAAkC,mCAAlC;;AACA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,aAAb;AAA4BC,EAAAA;AAA5B,CAAD,KAAkD;AACjE,QAAMC,WAAW,GAAGZ,UAAU,CAACM,gBAAD,CAA9B;AADiE,QAEzDO,KAFyD,GAE/CD,WAF+C,CAEzDC,KAFyD;AAGjE,QAAMC,eAAe,GAAGd,UAAU,CAACO,iBAAD,CAAlC;AACA,QAAMQ,SAAS,GAAGD,eAAe,CAACD,KAAlC;AACA,QAAMG,YAAY,GAAGF,eAAe,CAACG,QAArC;;AALiE,oBAMff,QAAQ,CAACO,SAAD,CANO;AAAA;AAAA,QAM1DS,iBAN0D;AAAA,QAMvCC,oBANuC;;AAQjE,QAAMC,WAAW,GAAG;AAClBC,IAAAA,QAAQ,EAAE;AADQ,GAApB;AAGA,QAAMC,OAAO,GAAGT,KAAK,CAACU,SAAN,KAAoB,IAApB,qBAAgCH,WAAhC,IAAgD,EAAhE;;AAEA,QAAMI,kBAAkB,GAAG,MAAM;AAC/B,UAAMC,YAAY,GAAG,GAAGC,MAAH,CAAUR,iBAAV,CAArB;AACA,UAAMS,UAAU,GAAG;AACjBC,MAAAA,KAAK,EAAE,QADU;AAEjBC,MAAAA,KAAK,EAAE,KAFU;AAGjBC,MAAAA,MAAM,YAAKrB,SAAS,CAAC,CAAD,CAAT,CAAaqB,MAAlB,CAHW;AAIjBC,MAAAA,OAAO;AAJU,KAAnB;AAMAN,IAAAA,YAAY,CAACO,IAAb,CAAkBL,UAAlB;AACAR,IAAAA,oBAAoB,CAACM,YAAD,CAApB;;AACA,UAAMQ,WAAW,qBAAQlB,SAAS,CAACmB,QAAlB,CAAjB;;AACAD,IAAAA,WAAW,CAACE,IAAZ,CAAiBC,gBAAjB,CAAkC1B,aAAlC,EAAiDD,SAAjD,GAA6DgB,YAA7D;AACAT,IAAAA,YAAY,CAAC;AACXqB,MAAAA,IAAI,EAAE,iBADK;AAEXC,MAAAA,KAAK,EAAE;AAAEJ,QAAAA,QAAQ,EAAED;AAAZ;AAFI,KAAD,CAAZ;AAID,GAhBD;;AAkBA,QAAMM,qBAAqB,GAAIC,KAAD,IAAW;AACvC;AACA,UAAMC,aAAa,GAAG,GAAGf,MAAH,CAAUR,iBAAV,CAAtB;;AAEA,UAAMe,WAAW,qBAAQlB,SAAS,CAACmB,QAAlB,CAAjB;;AACA,QAAIM,KAAK,KAAKtB,iBAAiB,CAACwB,MAAlB,GAA2B,CAAzC,EAA4C;AAC1CD,MAAAA,aAAa,CAACE,GAAd;AACAxB,MAAAA,oBAAoB,CAACsB,aAAD,CAApB;AACAR,MAAAA,WAAW,CAACE,IAAZ,CAAiBC,gBAAjB,CAAkC1B,aAAlC,EAAiDD,SAAjD,GAA6DgC,aAA7D;AAED,KALD,MAKO;AACL,YAAMhB,YAAY,GAAGgB,aAAa,CACjCG,KADoB,CACd,CADc,EACXJ,KADW,EAEpBd,MAFoB,CAEbe,aAAa,CAACG,KAAd,CAAoBJ,KAAK,GAAG,CAA5B,EAA+BC,aAAa,CAACC,MAA7C,CAFa,CAArB;AAGFvB,MAAAA,oBAAoB,CAACM,YAAD,CAApB;AACAQ,MAAAA,WAAW,CAACE,IAAZ,CAAiBC,gBAAjB,CAAkC1B,aAAlC,EAAiDD,SAAjD,GAA6DgB,YAA7D;AAEC;;AACDT,IAAAA,YAAY,CAAC;AACXqB,MAAAA,IAAI,EAAE,iBADK;AAEXC,MAAAA,KAAK,EAAE;AAAEJ,QAAAA,QAAQ,EAAED,WAAZ;AAAyBY,QAAAA,OAAO,EAAE9B,SAAS,CAAC8B,OAAV,GAAoB;AAAtD;AAFI,KAAD,CAAZ;AAID,GAtBD;;AAwBA,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhC,KAAK,CAACU,SAAN,KAAoB,IAApB,gBACC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,cAAtB;AAAqC,IAAA,OAAO,EAAEC,kBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,IAAI,EAAC,KAAX;AAAiB,kBAAW,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,CADF,CADD,GAUG,IAXN,eAYE;AAAO,IAAA,KAAK,EAAE,MAAd;AAAsB,IAAA,MAAM,EAAE,CAA9B;AAAiC,IAAA,WAAW,EAAE,CAA9C;AAAiD,IAAA,WAAW,EAAE,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,iBAAiB,CAAC4B,GAAlB,CAAsB,CAACC,OAAD,EAAUC,CAAV,KAAgB;AACrC,QAAIC,KAAK,CAACC,OAAN,CAAcH,OAAd,MAA2B,IAA/B,EAAqC;AACnC,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAO,QAAA,WAAW,EAAE,CAApB;AAAuB,QAAA,WAAW,EAAE,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,OAAO,CAACD,GAAR,CAAY,CAACK,EAAD,EAAKC,CAAL,kBACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,OAAD;AACE,QAAA,aAAa,EAAE1C,aADjB;AAEE,QAAA,QAAQ,EAAEsC,CAFZ;AAGE,QAAA,QAAQ,EAAEI,CAHZ;AAIE,QAAA,OAAO,EAAED,EAJX;AAKE,QAAA,QAAQ,EAAEC,CAAC,KAAK,CAAN,GAAUb,qBAAV,GAAkC,IAL9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADD,CADH,CADF,CADF,CADF;AAmBD,KApBD,MAqBE,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AACE,MAAA,aAAa,EAAE7B,aADjB;AAEE,MAAA,KAAK,EAAEsC,CAFT;AAGE,MAAA,OAAO,EAAED,OAHX;AAIE,MAAA,QAAQ,EAAER,qBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAUH,GAhCA,CADH,CADF,CADF,CAZF,CADF;AAsDD,CA7GD;;AA8GA,MAAMc,YAAY,GAAGlD,MAAM,CAACmD,GAAV,mBAAlB;AAKA,MAAMC,KAAK,GAAGpD,MAAM,CAACmD,GAAV,oBAAX;AAcA,MAAME,UAAU,GAAGrD,MAAM,CAACsD,MAAV,oBAAhB;AAQA,eAAejD,QAAf","sourcesContent":["import React, { Fragment, useContext, useEffect, useState } from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\n//components\r\nimport TdClass from \"./RowTable/TdClass\";\r\nimport { globalStateStore } from \"../../../stores/globalStateStore\";\r\nimport { mailTemplateStore } from \"../../../stores/mailTemplateStore\";\r\nconst RowTable = ({ tdClasses, rowTableIndex, deleteRowTable }) => {\r\n  const globalState = useContext(globalStateStore);\r\n  const { state } = globalState;\r\n  const mailGlobalState = useContext(mailTemplateStore);\r\n  const mailState = mailGlobalState.state;\r\n  const mailDispatch = mailGlobalState.dispatch;\r\n  const [editableTdClasses, setEditableTdClasses] = useState(tdClasses);\r\n\r\n  const tempTdStyle = {\r\n    position: \"relative\"\r\n  };\r\n  const tdStyle = state.boxShadow === true ? { ...tempTdStyle } : {};\r\n\r\n  const onClickAddTdButton = () => {\r\n    const newTdClasses = [].concat(editableTdClasses);\r\n    const newTdClass = {\r\n      align: \"center\",\r\n      width: \"200\",\r\n      height: `${tdClasses[0].height}`,\r\n      content: `<b>td</b>`\r\n    };\r\n    newTdClasses.push(newTdClass);\r\n    setEditableTdClasses(newTdClasses);\r\n    const newContents = { ...mailState.contents };\r\n    newContents.body.contentRowTables[rowTableIndex].tdClasses = newTdClasses;\r\n    mailDispatch({\r\n      type: \"UPDATE_CONTENTS\",\r\n      value: { contents: newContents }\r\n    });\r\n  };\r\n\r\n  const onClickDeleteTdButton = (index) => {\r\n    // if (index === 0) return;\r\n    const tempTdClasses = [].concat(editableTdClasses);\r\n\r\n    const newContents = { ...mailState.contents };\r\n    if (index === editableTdClasses.length - 1) {\r\n      tempTdClasses.pop();\r\n      setEditableTdClasses(tempTdClasses);\r\n      newContents.body.contentRowTables[rowTableIndex].tdClasses = tempTdClasses;\r\n    \r\n    } else {\r\n      const newTdClasses = tempTdClasses\r\n      .slice(0, index)\r\n      .concat(tempTdClasses.slice(index + 1, tempTdClasses.length));\r\n    setEditableTdClasses(newTdClasses);\r\n    newContents.body.contentRowTables[rowTableIndex].tdClasses = newTdClasses;\r\n    \r\n    }\r\n    mailDispatch({\r\n      type: \"UPDATE_CONTENTS\",\r\n      value: { contents: newContents, version: mailState.version + 1 }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {state.boxShadow === true ? (\r\n        <MenusWrapper>\r\n          <Menus>\r\n            <EditButton className=\"btn btn-dark\" onClick={onClickAddTdButton}>\r\n              <span role=\"img\" aria-label=\"img\">\r\n                âž•\r\n              </span>\r\n            </EditButton>\r\n          </Menus>\r\n        </MenusWrapper>\r\n      ) : null}\r\n      <table width={\"100%\"} border={0} cellPadding={0} cellSpacing={0}>\r\n        <tbody>\r\n          <tr>\r\n            {editableTdClasses.map((tdClass, i) => {\r\n              if (Array.isArray(tdClass) === true) {\r\n                return (\r\n                  <td>\r\n                    <table cellPadding={0} cellSpacing={0}>\r\n                      <tbody>\r\n                        {tdClass.map((td, j) => (\r\n                          <tr>\r\n                            <TdClass\r\n                              rowTableIndex={rowTableIndex}\r\n                              colIndex={i}\r\n                              rowIndex={j}\r\n                              tdClass={td}\r\n                              deleteTd={j === 0 ? onClickDeleteTdButton : null}\r\n                            />\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </td>\r\n                );\r\n              } else\r\n                return (\r\n                  <Fragment>\r\n                    <TdClass\r\n                      rowTableIndex={rowTableIndex}\r\n                      index={i}\r\n                      tdClass={tdClass}\r\n                      deleteTd={onClickDeleteTdButton}\r\n                    />\r\n                  </Fragment>\r\n                );\r\n            })}\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </Fragment>\r\n  );\r\n};\r\nconst MenusWrapper = styled.div`\r\n  position: relative;\r\n  /* top: 0px; */\r\n  /* left: -40px; */\r\n`;\r\nconst Menus = styled.div`\r\n  position: absolute;\r\n  background: none;\r\n  display: flex;\r\n  z-index: 500px;\r\n\r\n  &:nth-child(odd) {\r\n    right: -30px;\r\n  };\r\n  \r\n  &:nth-child(even) {\r\n    right: -50px;\r\n  };\r\n`;\r\nconst EditButton = styled.button`\r\n  position: relative;\r\n  width: 20px;\r\n  height: 20px;\r\n  padding: 0px;\r\n  margin: 3px;\r\n  font-size: 10px;\r\n`;\r\nexport default RowTable;\r\n"]},"metadata":{},"sourceType":"module"}